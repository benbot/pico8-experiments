pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
pet = {x = 58, y = 58, maxspeed = 0.5, maxaccel = 5, vel = {0, 0}, acc = {0, 0}, startframe = 1, frame = 1, ["anim-length"] = 1, hunger = 50, maxhunger = 100, direction = {1, 0}}
directions = {{0, 0}, {0, 0}, {0, 0}, {0, 0}, {1, 0}, {1, 1}, {0, 1}, {0, 0}, {-1, 0}, {-1, -1}, {0, -1}, {1, -1}, {-1, 1}}
local fc = 1
local function make_window(name, x, y, w, h, drawfn)
  local name0
  local _1_
  if drawfn then
    _1_ = drawfn
  else
    local function _2_()
      return nil
    end
    _1_ = _2_
  end
  name0 = {x = x, y = y, w = w, h = h, ["text-lines"] = {}, drawfn = _1_}
  return nil
end
local function draw_pet()
  palt(0, nil)
  palt(12, t)
  spr(pet.frame, pet.x, pet.y)
  palt(0, t)
  return palt(12, nil)
end
local function idle_anim()
  if (0 == (fc % 30)) then
    if (pet.frame == (pet.startframe + pet["anim-length"])) then
      pet.frame = pet.startframe
      return nil
    else
      pet.frame = (1 + pet.frame)
      return nil
    end
  else
    return nil
  end
end
local function change_dir()
  local walk_chance = flr(rnd(100))
  if (walk_chance < 30) then
    pet.direction = flr(rnd(#directions))
    pet.y = flr(pet.y)
    pet.x = flr(pet.x)
    return nil
  else
    return nil
  end
end
local function walk()
  pet.x = (pet.x + (pet.maxspeed * pet.direction[1]))
  pet.y = (pet.y + (pet.maxspeed * pet.direction[2]))
  if (120 < pet.x) then
    pet.x = 120
  else
  end
  if (0 > pet.x) then
    pet.x = 0
  else
  end
  if (120 < pet.y) then
    pet.y = 120
  else
  end
  if (0 > pet.y) then
    pet.y = 0
    return nil
  else
    return nil
  end
end
local function pet_update()
  idle_anim()
  walk()
  if (0 == (fc % 20)) then
    if (45 < flr(rnd(100))) then
      pet.direction = rnd(directions)
    else
    end
  else
  end
  if (pet.hunger < 10) then
    pet.startframe = 3
    return nil
  else
    return nil
  end
end
local function _init()
  return music(0)
end
local function _update()
  return pet_update()
end
local function _draw()
  cls(15)
  draw_pet()
  print(pet.direction[1], 0)
  print(pet.y, 0)
  fc = (fc + 1)
  return nil
end
__gfx__
00000000cc7cc7cccccccccccc7cc7cccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c777777ccc7cc7ccc777777cc7cccc7c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070077000077c777777c77000077c777777c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000708008077700007770000007770000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000700000077080080770000007709009070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700700000077000000770900907700000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c700007cc700007cc700007cc700007c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cc7777cccc7777cccc7777cccc7777cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5f555555555555e55c000000000000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
fcccccccccccccce5c000000000000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5ca0000000000ac55c000000000000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c000000000000c55c000000000000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c000000000000c55c000000000000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c000000000000c55ca0000000000ac5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c000000000000c5eccccccccccccccf000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5c000000000000c55e555555555555f5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
a401000d0e7570e7570e7571a75718757197570f75711757157570d7571b7571e7572175723757000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007
1d10000018052180001c052180001c052180001f0521f0521f0521800018000280522805200000000003005200000000000000000000000000000000000000000000000000000000000000000000000000000000
051000000005200052040520405204052040520705207052070520705200000040520405200000000000005200000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
911000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
04 01024344

